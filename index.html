<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yt audio dl</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>// AV downloader multi site</h1>
        
        <div class="info">
            paste youtube url below or upload spotify playlist csv. download mulitple formats.personal use(.-.)
        </div>
        
        <!-- Mode selector -->
        <div class="mode-selector">
            <button id="youtubeMode" class="mode-btn active">YouTube URL</button>
            <button id="spotifyMode" class="mode-btn">Spotify Playlist</button>
        </div>
        
        <!-- YouTube mode -->
        <div id="youtubeSection" class="input-section">
        <input 
            type="text" 
            id="urlInput" 
            placeholder="https://www.youtube.com/watch?v=..."
            autocomplete="off"
        >
        </div>
        
        <!-- Spotify mode -->
        <div id="spotifySection" class="input-section" style="display: none;">
            <div class="file-upload">
                <input type="file" id="csvFile" accept=".csv" style="display: none;">
                <button id="uploadBtn" class="upload-btn">Upload Spotify CSV</button>
                <span id="fileName" class="file-name"></span>
            </div>
        </div>
        
        <div class="quality-selector" id="qualitySelector">
            <div class="quality-label">select video quality:</div>
            <select id="qualitySelect">
                <option value="">loading qualities...</option>
            </select>
        </div>
        
        <!-- Playlist selection (for Spotify) -->
        <div id="playlistSection" class="playlist-section" style="display: none;">
            <div class="playlist-header">
                <h3>Select songs to download:</h3>
                <div class="playlist-controls">
                    <button id="selectAllBtn" class="control-btn">Select All</button>
                    <button id="deselectAllBtn" class="control-btn">Deselect All</button>
                    <span id="selectedCount" class="selected-count">0 selected</span>
                </div>
            </div>
            <div id="songList" class="song-list">
                <!-- Songs will be populated here -->
            </div>
        </div>
        
        <div class="download-buttons">
            <button id="downloadBtn">download audio</button>
            <button id="downloadVideoBtn">download video</button>
            <button id="downloadSpotifyBtn" style="display: none;">download selected songs</button>
        </div>
        
        <div id="videoPreview" class="video-preview" style="display: none;">
            <div class="video-info">
                <img id="videoThumbnail" src="" alt="Video thumbnail">
                <div class="video-details">
                    <h3 id="videoTitle"></h3>
                    <p id="videoUploader"></p>
                    <p id="videoDuration"></p>
                </div>
            </div>
        </div>
        
        <div id="progressContainer" class="progress-container" style="display: none;">
            <div class="progress-bar">
                <div id="progressBar" class="progress-fill"></div>
            </div>
            <div id="progressText" class="progress-text">Downloading...</div>
        </div>
        
        <div id="status" class="status"></div>
        
        <div class="footer">
            <!-- backend: node.js + yt-dlp | frontend: vanilla js -->
             support:yt x spotify ðŸŒ½
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>